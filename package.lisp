(in-package :cl-user)

(defpackage :x11)

(defpackage :clui.v0
  (:export #:timer-event
	   #:window-move-event
	   #:window-resize-event
	   #:window-iconify-event
	   #:window-deiconify-event
	   #:window-maximize-event
	   #:window-restore-event
	   #:window-fullscreen-event
	   #:window-show-event
	   #:window-focus-event
	   #:window-defocus-event
	   #:window-hide-event
	   ;;#:window-repaint-event
	   #:window-created-event
	   #:window-close-event
	   #:window-destroyed-event
	   #:window-monitor-switched-event
	   ;;#:pointer-button-press-event
	   ;;#:pointer-button-release-event
	   ;;#:pointer-button-hold-event
	   ;;#:pointer-click-event
	   ;;#:pointer-double-click-event
	   ;;#:pointer-button-hold-and-drag-event
	   #:pointer-wheel-event
	   ;;#:pointer-motion-event
	   ;;#:pointer-enter-event
	   ;;#:pointer-exit-event
	   ;;#:key-press-event
	   #:key-repeat-event
	   ;;#:key-release-event
	   #:character-event))
	   

(defpackage :clui
  (:use :cl)
  (:export #:h
	   #:display-mixin
	   #:screen-mixin
	   #:monitor-mixin
	   #:window-mixin
	   #:homemade-window-mixin
	   #:os-window-mixin
	   #:cursor-mixin
	   #:handle-mixin

	   #:get-displays
	   #:default-display
	   #:default-screen
	   #:gamma-ramp
	   #:gamma-ramp-size
	   #:video-mode
	   #:find-window
	   #:destroy-window
	   #:window-parent
	   #:window-root
	   #:window-fullscreen?
	   #:window-monitor
	   #:window-fullscreen-monitor
	   #:window-closable?
	   #:window-title
	   #:window-titled?
	   #:window-position
	   #:set-window-position
	   #:window-size
	   #:set-window-size
	   #:window-cursor-position
	   #:set-window-cursor-position
	   #:window-maximized?
	   #:maximize-window
	   #:restore-window
	   #:show-window
	   #:hide-window
	   #:window-shown?
	   #:window-hidden?
	   #:window-focused?
	   #:focus-window
	   #:unfocus-window
	   #:window-inconifiable?
	   #:window-iconfied?
	   #:iconfify-window
	   #:deiconify-window
	   #:window-visible?
	   #:make-window-visible
	   #:make-window-invisible
	   #:window-hovered?
	   #:window-resizable?
	   #:make-window-resizable
	   #:make-window-non-resizable
	   #:window-decorated?
	   #:window-floating?
	   #:window-opaque?
	   #:window-opacity
	   #:set-window-size-limits
	   #:window-aspect-ratio
	   #:window-framebuffer-size
	   #:window-content-scale
	   #:request-window-attention

	   #:get-primary-monitor
	   #:set-window-monitor
	   #:monitor-position
	   #:monitor-video-modes
	   #:monitor-gamma
	   #:monitor-gamma-ramp
	   #:poll-monitors
	   #:poll-events
	   #:wait-event
	   #:run

	   #:choose-video-mode

	   #:display
	   ;;#:medium
	   #:region
	   #:window
	   #:view
	   #:screen
	   #:monitor
	   #:printer
	   #:cursor
	   #:arrow-cursor
	   #:hand-cursor
	   #:pointing-hand-cursor
	   #:open-hand-cursor
	   #:closed-hand-cursor
	   #:ibeam-cursor
	   #:compass-cursor
	   #:NESW-cursor
	   #:NWSE-cursor
	   #:EW-cursor
	   #:NS-cursor
	   #:up-cursor
	   #:down-cursor
	   #:wait-cursor
	   #:no-select-cursor
	   #:activate-menu-cursor
	   #:activate-help-cursor
	   #:icon
	   #:scrollbar
	   #:label
	   #:button
	   #:image
	   #:checkbox
	   #:progress-bar
	   #:bullet-point
	   #:slider
	   #:text-edit-box
	   #:combo-box
	   #:multiline-text-edit-box
	   #:radio-button
	   #:file-selector
	   #:folder-selector
	   #:color-selector
	   #:color-editor
	   #:list-box
	   #:dial
	   #:spin-box
	   #:menu
	   #:menu-item
	   #:tab-bar
	   #:tab-page
	   #:grid
	   #:date-edit-box
	   #:time-edit-box
	   #:calendar
	   #:contact-information-form
	   #:payment-information-form
	   #:timeout-event
	   #:window-move-event
	   #:window-resize-event
	   #:window-iconify-event
	   #:window-deiconfify-event
	   #:window-maximize-event
	   #:window-restore-event
	   #:window-fullscreen-event
	   #:window-show-event
	   #:window-focus-event
	   #:window-defocus-event
	   #:window-hide-event
	   ;;#:window-repaint-event
	   #:window-created-event
	   #:window-close-event
	   #:window-destroyed-event
	   #:window-monitor-switched-event
	   ;;#:pointer-button-press-event
	   ;;#:pointer-button-release-event
	   ;;#:pointer-button-click-event
	   #:pointer-button-double-click-event
	   ;;#:pointer-button-hold-event
	   #:pointer-button-hold-and-drag-event
	   #:pointer-wheel-event
	   ;;#:pointer-motion-event
	   ;;#:pointer-enter-event
	   ;;#:pointer-exit-event
	   ;;#:key-press-event
	   ;;#:key-release-event
	   #:character-event
	   )

  #-darwin
  (:import-from :noffi
		#:noffi-syntax #:clet #:c-addr-of #:pkg-use #:c-coerce #:defcfun
		#:size-of-typ #:c-aref #:clet&
		#:get-c-string
		#:get-native-utf16-string
		#:int-ptr
		#:use-library
		#:use-include
		#:c-compile-file
		#:c-compile-file-pathname
		#:pkg-use
		#:cons-ptr
		#:cons-cval
		#:cval-value
		#:ptr-int
		#:ptr-base-sap
		#:ptr-effective-sap
		;;#:ptr-inc
		#:ptr-nullptr-p
		#:ptr-difference
		#:null-ptr
		#:c-make
		#:c-sequence-coerce
		#:make-gcable-c-string
		#:make-gcable-c-utf-16-string
		#:c-sizeof-type
		#:c-alignof-type
		#:c-ptr+
		#:c-funcall
		#:c-cast
		#:c->-addr
		#:ptr-effective-sap
		#:sap-plus
		#:sap-int
		#:int-sap)
  #+OLD
  (:import-from :noffi
		#:copy-ptr
		#:%cons-ptr
		#:c-sizeof-type
		#:c-addr-of
		#:c-cast
		#:ptr-value
		#:cval-value
		#:ptr-offset
		#:c-aref
		#:c->-addr
		#:clet&
		#:cons-ptr
		#:ptr-nullptr-p

		#:noffi-syntax #:clet #:c-addr-of #:pkg-use #:c-coerce #:defcfun))
